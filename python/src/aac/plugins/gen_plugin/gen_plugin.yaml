model:
  name: gen-plugin
  description: An Architecture-as-Code plugin that generates opinionated plugin stubs for easier and quicker plugin development.
  behavior:
    - name: gen-plugin
      type: command
      description: Generate
      input:
        - name: architecture_file
          type: string
          python_type: str
          description: filepath to the architecture file.
        - name: plugin_type
          type: string
          python_type: str
          description: |
            denotes whether to generate a first or third party plugin. If you're not contributing to the AaC repository, then use the option "third".
            valid values are: "first", "third"
      acceptance:
        - scenario: Generate first party plugin stub files.
          given:
            - The {{gen-plugin.input.architecture_file}} contains a valid model.
          when:
            - The aac app is run with the gen-plugin command.
            - The value of {{gen-plugin.input.plugin_type}} is equal to "first".
            - The value of {{gen-plugin.input.architecture_file}} contains "src/aac/plugins/".
          then:
            - Stubbed first party plugin files are generated.
        - scenario: Fail to generate first party plugin stub files.
          given:
            - The {{gen-plugin.input.architecture_file}} contains a valid model.
          when:
            - The aac app is run with the gen-plugin command.
            - The value of {{gen-plugin.input.plugin_type}} is equal to "first".
            - The value of {{gen-plugin.input.architecture_file}} does not contain "src/aac/plugins/".
          then:
            - Stubbed first party plugin files are not generated.
        - scenario: Generate third party plugin stub files.
          given:
            - The {{gen-plugin.input.architecture_file}} contains a valid model.
          when:
            - The aac app is run with the gen-plugin command.
            - The value of {{gen-plugin.input.plugin_type}} is equal to "third".
          then:
            - Stubbed third party plugin files are generated.
---
enum:
  name: PythonDataType
  values:
    - str
    - int
    - float
    - complex
    - list
    - tuple
    - range
    - dict
    - set
    - frozenset
    - bool
    - bytes
    - bytearray
    - memoryview
---
ext:
   name: PythonTypeField
   type: Field
   dataExt:
      add:
        - name: python_type
          type: PythonDataType
---
ext:
   name: CommandBehaviorType
   type: BehaviorType
   enumExt:
      add:
         - command
